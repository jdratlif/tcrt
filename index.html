<!doctype html>
<html lang="en-US">
<head>
    <meta charset="UTF-8" />
    
    <!-- external libraries -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="select2.css">
    <script src="select2.min.js"></script>
    
    <!-- stylesheets and javascript links -->
    <link rel="stylesheet" href="tcrt.css" />
    <script src="tcrt.js"></script>
    
    <title>Thaumcraft 5 Research Tool</title>
</head>

<body>
<h1>Thaumcraft 5 Research Tool v<span id="version"></span></h1>

<noscript>
    This application requires JavaScript to work.
</noscript>

<!-- asepct points and list -->
<div id="aspectControl">
    <!-- available research points -->
    <section>
        <h2>Points</h2>
        <ul id="pointList" class="aspectControlList"></ul>
        <div id="pointControl">
            <label for="slotSpinner" class="fieldName">Slot:</label>
            
            <div>
                <input id="slotSpinner" class="spinner" value="1" />
                <button id="loadSlotButton">Load</button>
                <button id="saveSlotButton">Save</button>
            </div>
            
            <label for="resetPointsSpinner" class="fieldName">Points:</label>
            
            <div>
                <input id="resetPointsSpinner" class="spinner" value="5" />
                <button id="resetPointsButton">Reset</button>
            </div>
        </div>
    </section>
    
    <!-- available aspects -->
    <section>
        <h2>Aspects</h2>
        <ul id="aspectList" class="aspectControlList"></ul>
    </section>
</div>

<!-- the connection finder -->
<div id="finder">
    <div class="fieldName">Connect:</div>
    <div>
        <input type="hidden" id="fromSelect" />
        &xrarr;
        <input type="hidden" id="toSelect" />
    </div>
    
    <label for="stepsSpinner" class="fieldName">Min Step(s):</label>
    <div>
        <input id="stepsSpinner" class="spinner" value="1" />
    </div>
    
    <div class="fieldName">&nbsp;</div>
    <div>
        <button id="connectButton">Find Connections</button>
    </div>
</div>

<!-- compound aspect component box overlay -->
<div id="componentBox">
    <div class="aspect" id="aspect1"></div>
    <span class="operator">+</span>
    <div class="aspect" id="aspect2"></div>
</div>

<section id="helpSection">
    <h3>How to Use This Tool</h3>
    
    <p>
        This tools helps you solve Thaumcraft research notes by showing you how
        to connect one aspect to another. Simply select two spects from the
        drop down, select the minimum number of aspects between them, and click
        the Find Connections button. It will show you all the ways you can build
        a path between the two aspects.
    </p>
    
    <p>
        If there is more than one path, you can use the Next and Previous
        buttons to move through the possibilities. The tool tries to prioritize
        the path that consumes the fewest number of points, but that may not
        always be the best option for a given note.
    </p>
    
    <p>
        The Accept button is used to accept a path. Accepting a path subtracts
        all the points necessary to build that connection from your points list.
        In this way, you can continue solving a research note with multiple
        paths within the constraints of the points that would be available to
        you.
    </p>
    
    <p>
        On the top left, you'll see your available aspect points. This will
        limit your connection path to things you can build. You can add points
        to this list by clicking on an aspect from the aspects list at the top
        right. Selecting a primal aspect will add one point of that aspect to
        your points list. Selecting a compound aspect will build that aspect
        using the points in your points list. If you click an aspect in the
        points list, it will break down that aspect. Primal aspects get removed,
        and compound aspects get broken down into their components. You can also
        shift click on a primal aspect in the points list to add a point of that
        primal.
    </p>
    
    <p>
        The save slots allow you to store and load a points list. You can save
        your current point list by clicking the Save button. To load those
        points back, just click the load button. The slot gives you more than
        one place to save a point list. This makes it easier to experiemnt with
        paths and go back if you get stuck.
    </p>
    
    <p>
        You can reset your points list back to a given number of primal aspect
        points using the Reset button. It will reset your points list to just
        primal aspects with that number of points for each.
    </p>
</section>

<!-- copyright and other information -->
<footer>
    <hr />
    
    <p>
        Copyright &copy; 2016 John Ratliff
        <small>(john [AT] technoplaza [DOT] net)</small>
        <br />
        This work is licensed under a
        <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
        Creative Commons Attribution 4.0 International License.</a>
        <br />
        The source is available on 
        <a href="https://github.com/jdratlif/tcrt">github</a>.
    </p>
    
    <p>
        Code has been liberally borrowed from
        <a href="http://ythri.github.io/tcresearch/">ythri's Thaumcraft Research
        Helper</a>.
    </p>
        
        <p>
            <small>This tool has been tested mostly using Google Chrome, but it
            should work in any modern browser (e.g. IE11+, Safari, Firefox, et.
            al.) Please let me know if you notice any problems.</small>
        </p>
        
        <hr />
</footer>

</body>
</html>